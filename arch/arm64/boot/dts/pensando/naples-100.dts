
/dts-v1/;

#include "capri.dtsi"

/ {
	model = "Naples-100 Board";

	aliases {
		serial0 = &uart0;
	};

	chosen {
		stdout-path = "serial0:19200n8";
	};
};

&apb_clk {
	clock-frequency = <416000000>;
};

&core_clk {
	clock-frequency = <832000000>;
};

&emmc_clk {
	clock-frequency = <200000000>;
};

&flash_clk {
	clock-frequency = <400000000>;
};

&i2c_clk {
	clock-frequency = <416000000>;
};

&ref_clk {
	clock-frequency = <156250000>;
};

&qspi {
	status = "okay";
	flash0: mt25q@0 {
		compatile = "jdec,spi-nor";
		reg = <0>;
		spi-max-frequency = <50000000>;
		spi-rx-bus-width = <2>;
		m25p,fast-read;
		cdns,read-delay = <0>;
		cdns,tshsl-ns = <0>;
		cdns,tsd2d-ns = <0>;
		cdns,tchsh-ns = <0>;
		cdns,tslch-ns = <0>;
		partitions {
			compatible = "fixed-partitions";
			#address-cells = <1>;
			#size-cells = <1>;
			partition@0 {
				label = "flash";
				reg = <0x00010000 0x0fff0000>;
			};
			partition@00100000 {
				label = "boot0";
				reg = <0x00100000 0x00080000>;
			};
			partition@00180000 {
				label = "golduboot";
				reg = <0x00180000 0x00200000>;
			};
			partition@00400000 {
				label = "goldfw";
				reg = <0x00400000 0x03c00000>;
			};
			partition@04010000 {
				label = "fwmap";
				reg = <0x04010000 0x00020000>;
			};
			partition@04030000 {
				label = "fwsel";
				reg = <0x04030000 0x00020000>;
			};
			partition@04090000 {
				label = "bootlog";
				reg = <0x04090000 0x00020000>;
			};
			partition@040b0000 {
				label = "panicbuf";
				reg = <0x040b0000 0x00020000>;
			};
			partition@04200000 {
				label = "uboota";
				reg = <0x04200000 0x00400000>;
			};
			partition@04600000 {
				label = "ubootb";
				reg = <0x04600000 0x00400000>;
			};
			partition@04a00000 {
				label = "mainfwa";
				reg = <0x04a00000 0x01000000>;
			};
			partition@05a00000 {
				label = "mainfwb";
				reg = <0x05a00000 0x01000000>;
			};
			partition@08000000 {
				label = "diagfw";
				reg = <0x08000000 0x07fe0000>;
			};
		};
	};
};

&gpio0 {
	status = "ok";
};

&i2c0 {
	clock-frequency = <100000>;
	status = "okay";
};

&i2c1 {
	clock-frequency = <100000>;
	status = "okay";
};

&i2c2 {
	clock-frequency = <100000>;
	status = "okay";
	tmp421@1f {
		compatible = "ti,tmp421";
		reg = <0x4c>;
	};
	tps53659 {
		compatible = "ti,tps53659";
		reg = <0x62>;
	};
	pcf85263@51 {
		compatible = "nxp,pcf85263";
		reg = <0x51>;
	};
};

&i2c3 {
	clock-frequency = <100000>;
	status = "okay";
};

&ssi0 {
	status = "okay";
	cpld@0 {
		compatible = "pensando,cpld";
		#address-cells = <1>;
		#size-cells = <1>;
		spi-max-frequency = <12000000>;
		reg = <0>;
		tmode = <3>; //EPROM mode
	};
	cpld@1 {
		compatible = "pensando,cpld";
		#address-cells = <1>;
		#size-cells = <1>;
		spi-max-frequency = <12000000>;
		reg = <1>;
		tmode = <3>; //EPROM mode
	};
};

&wdt0 {
	status = "okay";
};

&emmc {
	max-frequency = <200000000>;
	bus-width = <8>;
	status = "okay";
};

&panic {
	status = "okay";
	reg = <0x0 0x740b0000 0x0 0x00020000>;
};
