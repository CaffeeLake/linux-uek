obj-$(CONFIG_MLX4_XEN_FMR_MASTER) += mlx4_xen_fmr_master.o

mlx4_xen_fmr_master-y := xen_fmr_master.o

obj-$(CONFIG_MLX4_XEN_FMR_SLAVE) += mlx4_xen_fmr_slave.o

mlx4_xen_fmr_slave-y := xen_fmr_slave.o

obj-$(CONFIG_MLX4_CORE)		+= mlx4_core.o

mlx4_core-y :=	alloc.o catas.o cmd.o cq.o eq.o fw.o icm.o intf.o main.o mcg.o \
		mr.o pd.o port.o profile.o qp.o reset.o sense.o srq.o xrcd.o resource_tracker.o pkey.o \
		fmr_master.o fmr_slave.o

mlx4_core-$(CONFIG_MLX4_RTT_TESTS) += rt_torture.o

obj-$(CONFIG_MLX4_EN)               += mlx4_en.o

mlx4_en-y := 	en_main.o en_tx.o en_rx.o en_ethtool.o en_port.o en_cq.o \
		en_resources.o en_netdev.o en_selftest.o sys_tune.o
